{% load static %}
{% block herosection %}
    <!-- Hero Section Begin-->
    <section class="hero">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="hero__categories">
                        <div class="hero__categories__all">
                            <i class="fa fa-bars"></i>
                            <span>Available Categories</span>
                        </div>
                        <ul>
                            {% regroup items|dictsort:"itemCat" by itemCat as categories_list %}
                            {% for category in categories_list %}
                            <li><a href="#">{{category.grouper}}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="hero__search">
                        <div class="hero__search__form">
                            <form class="d-flex" role="search">
                                {% csrf_token %}
                                <input class="form-control" type="search" id="searchItem" style="width: 400px;"
                                    name="search" placeholder="Type to search products..."
                                    hx-get="/search/results/"
                                    hx-trigger="keyup changed, search"
                                    hx-target="#search-results"
                                    hx-indicator=".htmx-indicator">
                            </form>
                        </div>
                        <div id="search-results" style="display: none;" onclick="overlayOff()">
                            {% include "search_results.html" %}
                        </div>
                        <div class="hero__search__phone">
                            <div class="hero__search__phone__icon">
                                <i class="fa fa-phone"></i>
                            </div>
                            <div class="hero__search__phone__text">
                                <h5>+91-76090-04098</h5>
                                <span>Support 24/7</span>
                            </div>
                        </div>
                    </div>
                    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                        <ol class="carousel-indicators">
                          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                        </ol>
                        <div class="carousel-inner">
                          <div class="carousel-item active">
                            <div class="set-bg" data-setbg="{% static 'img/hero/1.png'%}">
                                <div class="hero__text">
                                    <!-- <span>Farm to Schools and Hostels</span> -->
                                    <h2>Supplying<br/> Fresh & Nutritious <br/> Produce to <br/>MDM Programmes</h2>
                                    <!-- <h2>Delivering Local Produce <br />to Schools</h2> -->
                                    <p>Enabled by Local Collectives
                                        <a href="{% url 'shop' %}" class="primary-btn" style="margin-left: 25%;">ORDER NOW</a>
                                    </p>
                                </div>
                            </div>
                          </div>
                          <div class="carousel-item">
                            <div class="set-bg" data-setbg="{% static 'img/hero/2.png'%}">
                                <div class="hero__text">
                                    <!-- <span>DELIVERING FRESH FRUITS AND VEGETABLES</span> -->
                                    <h2>Buy Fresh<br />
                                        & Nutritious Produce <br />
                                        Directly from<br />
                                        Farmer Collectives<br/></h2>
                                    <!-- <h2>Shop from your<br />Local Farmers</h2> -->
                                    <p>
                                        Free Delivery on orders above â‚¹999/-
                                        <a href="{% url 'shop' %}" class="primary-btn" style="margin-left: 25%;">SHOP NOW</a>
                                    </p>
                                </div>
                            </div>
                          </div>
                          <div class="carousel-item">
                            <div class="set-bg" data-setbg="{% static 'img/hero/3.png'%}">
                                <div class="hero__text">
                                    <!-- <span>DELIVERING LOCAL VEGETABLES</span> -->
                                    <h2>Bulk Buy<br /> 
                                        Fresh Farm<br/>
                                        Produce Directly from<br /> 
                                        Farmers</h2>
                                    <!-- <h2>Fresh, Pure and Healthy<br /> Products at your Doorsteps</h2> -->
                                    <p>
                                        Fulfilled by Farmer Collectives
                                        <a href="{% url 'bulk-buy' %}" class="primary-btn" style="margin-left: 25%;">ENQUIRE NOW</a>
                                    </p>
                                </div>
                            </div>
                          </div>
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="sr-only">Next</span>
                        </a>
                      </div>
                </div>
            </div>
        </div>
    </section>
    <!--Hero Section End -->
    <script>
        document.addEventListener('keypress', function(event) {
                document.getElementById('search-results').style.display = 'block';
            });
        function overlayOff() {
            document.getElementById("search-results").style.display = "none";
        }
    </script>
    <style>
        #search-results {
            position: fixed; /* Sit on top of the page content */
            display: none; /* Hidden by default */
            background-color: rgba(9, 24, 158, 0.5); /* Black background with opacity */
            z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
            cursor: pointer; /* Add a pointer on hover */
            left: 30%;
            top:auto;
        }
        @media only screen and (max-width: 600px) {
            #search-results{
                left: auto;
            }
        }
    </style>
{% endblock %}